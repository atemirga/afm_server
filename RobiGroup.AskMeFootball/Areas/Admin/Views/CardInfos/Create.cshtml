@model Models.Cards.InfoCreateModel


<div class="box box-info">
    <!-- /.box-header -->
    <!-- form start -->
    <form id="create-form" class="form-horizontal" method="post">
        <div class="box-body">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <input asp-for="Id" type="hidden" />
            <input asp-for="CardId" type="hidden" />
            <div class="form-group">
                <label asp-for="Text" class="control-label col-sm-4"></label>
                <div class="col-sm-8">
                    <input asp-for="Text" class="form-control" />
                    <span asp-validation-for="Text" class="text-danger"></span>
                </div>
            </div>
        </div>
        <!-- /.box-body -->
        <div class="box-footer">

            <button type="submit" class="btn btn-default">Отмена</button>
            <a class="btn btn-danger pull-left" href="javascript:void(0);" onclick="deleteInfo(this, @Model.Id, @Model.CardId)">
                <i class="glyphicon glyphicon-trash"></i> Удалить
                <a />
                <button type="submit" class="btn btn-info pull-right">Сохранить</button>
        </div>
        <!-- /.box-footer -->
    </form>
</div>

@section Scripts
    {

    
    <script type="text/javascript">

        function deleteInfo(btn,id,cardId) {
            console.log(id);

            $.ajax({
                    method: "POST",
                    url: '@Url.Action("Delete", "CardInfos", new { Area = "Admin" })',
                    data: {
                        id: id
                    }
                })
                .done(function () {
                    window.location = "/Admin/CardInfos/Index/" + cardId;
                });
        }
    </script>
}
